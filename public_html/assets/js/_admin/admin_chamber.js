var chamber_change_image = 0;var chamber_change_logo = 0;var chamber_id = 0;var change_image1 = 0;var change_image2 = 0;var change_image3 = 0;var change_image4 = 0;var code = "";var image = "";var drEvent = $('.dropify').dropify({    messages: {        'default': 'یک فایل را در اینجا بکشید و رها کنید یا کلیک کنید',        'replace': 'برای جایگزینی یک فایل را در اینجا بکشید و رها کنید یا کلیک کنید',        'remove': 'حذف',        'error': 'خطا، چیزی اشتباه اضافه شده است.'    },    error: {        'fileSize': 'اندازه فایل زیاد می باشد (تصویر 5 مگابات و ویدیو حداکثر 100 مگابایت می باشد).',        'minWidth': 'The image width is too small min).',        'maxWidth': 'The image width is too big px max).',        'minHeight': 'The image height is too small px min).',        'maxHeight': 'The image height is too big px max).',        'imageFormat': 'فرمت عکس نامعتبر می باشد. (jpg-png-jpeg-gif)'    }});drEvent.on('dropify.errors', function (event, element) {    ShowMessage('خطا در فایل انتخاب شده !', 'error')});drEvent.on('dropify.error.imageFormat', function (event, element) {    ShowMessage('فرمت فایل معتبر نمی باشد. فرمت های قابل قبول تصاویر(jpg-png-jpeg-gif) و فرمت های قابل قبول ویدیو(mp4-mp3-3gp-mpg-mpeg)', 'error');});function chamberProducts() {    table_products.DataTable({        // processing: true,        // serverSide: true,        // order: [[1, 'asc']],        paging: true,        searching: true,        pageLength: 10,        ordering: true,        Destroy: true,        ajax: "chamber/chamber_products",        columns: [            {                mRender: function (data, type, row, meta) {                    return meta.row + meta.settings._iDisplayStart + 1;                }            },              {                mRender: function (data, type, row, meta) {                    console.log(row.image_url);                    var name=`<img src="${row.image_url}">`;                    return name;                 }            },            {                mRender: function (data, type, row) {                    var name=`<a  target="_blank" href="chamber/chamber_products/${row.id}/${row.product_name}">${row.product_name}</a>`;                    return name;                 }            },            {                mRender: function (data, type, row) {                    var price = row.product_price != null ? row.product_price : 0;                    return price + '  تومان ';                }            },            {                mRender: function (data, type, row) {                    var saleCount = row.sale_count != null ? row.sale_count : 0;                    return saleCount + ' فروش ';                }            },            {                mRender: function (data, type, row) {                    return row.product_count;                }            },            {                mRender: function (data, type, row) {                    return row.product_status;                }            },            {                mRender: function (data, type, row) {                    var facts = `<a href="chamber/chamber_products/` + row.id + `/edit` + `" class="btn btn-success btn-sm text-white"><i class="fa fa-eye"></i> </a>&nbsp;`;                    if (row.per_delete == true)                        facts = facts + `<button type="button" onclick="deleteProduct(` + row.id + `)" title="حذف محصول" class="btn btn-danger  btn-sm text-white"> <i class="fa fa-trash"></i></button>`;                    return facts;                }            },        ]    });}$("#btn_update_chamber_info").on("click", function (event) {    var chamber_image = $('#chamber_image')[0].files[0];    var chamber_logo = $('#chamber_logo')[0].files[0];    var chamber_name = $("#chamber_name").val();    var chamber_username = $("#chamber_username").val();    var chamber_type = $("#chamber_type").val();    var chamber_intro = $("#chamber_intro").val();    var chamber_about = $("#chamber_about").val();    var chamber_phonenumber = $("#chamber_phonenumber").val();    var chamber_tel = $("#chamber_tel").val();    var city = $("#city").val();    var state = $("#state").val();    var chamber_address = $("#chamber_address").val();    var chamber_postalcode = $("#chamber_postalcode").val();    let formDataa = new FormData();    formDataa.append("chamber_image", chamber_image);    formDataa.append("chamber_logo", chamber_logo);    formDataa.append("chamber_change_image", chamber_change_image);    formDataa.append("chamber_change_logo", chamber_change_logo);    formDataa.append("chamber_name", chamber_name);    formDataa.append("chamber_username", chamber_username);    formDataa.append("chamber_type", chamber_type);    formDataa.append("chamber_intro", chamber_intro);    formDataa.append("chamber_about", chamber_about);    formDataa.append("chamber_phonenumber", chamber_phonenumber);    formDataa.append("chamber_tel", chamber_tel);    formDataa.append("city", city);    formDataa.append("state", state);    formDataa.append("chamber_address", chamber_address);    formDataa.append("chamber_postalcode", chamber_postalcode);    formDataa.append("chamber_change_logo", chamber_change_logo);    formDataa.append("chamber_change_image", chamber_change_image);    $.ajax({        url: "chamber/updateChamberInfo",        type: 'POST',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("ثبت تغییرات ");        },        success: function (result) {            if (!result.error) {            }            ShowMessage(result.message, result.type);        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });});$("#btn_update_chamber_account_info").on("click", function (event) {    var chamber_bankname = $("#chamber_bankname").val();    var chamber_cardnumber = $("#chamber_cardnumber").val();    var chamber_shabanumber = $("#chamber_shabanumber").val();    var chamber_has_tax = $("#chamber_has_tax").is(":checked") ? 1 : 0;     var chamber_account_fullname = $("#chamber_account_fullname").val();    let formDataa = new FormData();    formDataa.append('chamber_bankname', chamber_bankname);    formDataa.append('chamber_cardnumber', chamber_cardnumber);    formDataa.append('chamber_shabanumber', chamber_shabanumber);    formDataa.append('chamber_account_fullname', chamber_account_fullname);    formDataa.append('chamber_has_tax', chamber_has_tax);    $.ajax({        url: "chamber/updateChamberBankInfo",        type: 'POST',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("ثبت تغییرات مشخصات بانکی ");        },        success: function (result) {            if (!result.error) {            }            ShowMessage(result.message, result.type);        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });});$("#btn_update_chamber_product_info").on("click", function (event) {    var id_mega_category = $("#id_mega_category").val();    var id_middle_category = $("#id_middle_category").val();    var id_sub_category = $("#id_sub_category").val() == null ? 0 : $("#id_sub_category").val();    var flag = 0;    var product_name = $("#product_name").val();    if (product_name == '') {        ShowMessage("لطفا نام   محصول را مشخص نمائید", "error");        flag = 1;    }    if (id_mega_category == null || id_middle_category == null) {        flag = 1;        ShowMessage("لطفا دسته بندی محصول را مشخص نمائید", "error");    }    if (flag == 0) {        var product_english_name = $("#product_english_name").val();        var product_brand_name = $("#product_brand_name").val();        var product_intro = $("#product_intro").val();        var product_holding_type = $("#product_holding_type").val();        var product_suitable_for = $("#product_suitable_for").val();        var product_memo = $("#product_memo").val();        var product_durability_time = $("#product_durability_time").val();        var product_weight = $("#product_weight").val();        var product_price = $("#product_price").val();        var product_price_discount = $("#product_price_discount").val();        var product_count = $("#product_count").val();        var product_status = $("#product_status").val();        var product_preparation_time = $("#product_preparation_time").val();        var product_weight_box = $("#product_weight_box").val();        var product_waranty = $("#product_waranty").val();        var product_colors = $("#product_colors").val();        var product_alert = $("#product_alert").val();        var id_product = $("#id_product").val();        var document_files = $("#document_files").val();        var product_review = CKEDITOR.instances['product_review'].getData();        var product_have_discount = 0;        if ($('#product_have_discount').is(":checked"))            product_have_discount = 1;        let formDataa = new FormData();        formDataa.append("id_mega_category", id_mega_category);        formDataa.append("document_files", document_files);        formDataa.append("id_middle_category", id_middle_category);        formDataa.append("id_sub_category", id_sub_category);        formDataa.append("product_name", product_name);        formDataa.append("product_english_name", product_english_name);        formDataa.append("product_waranty", product_waranty);        formDataa.append("product_brand_name", product_brand_name);        formDataa.append("product_intro", product_intro);        formDataa.append("product_holding_type", product_holding_type);        formDataa.append("product_suitable_for", product_suitable_for);        formDataa.append("product_memo", product_memo);        formDataa.append("product_durability_time", product_durability_time);        formDataa.append("product_weight", product_weight);        formDataa.append("product_price", product_price);        formDataa.append("product_have_discount", product_have_discount);        formDataa.append("product_price_discount", product_price_discount);        formDataa.append("product_count", product_count);        formDataa.append("product_status", product_status);        formDataa.append("product_preparation_time", product_preparation_time);        formDataa.append("product_weight_box", product_weight_box);        formDataa.append("product_colors", product_colors);        formDataa.append("product_alert", product_alert);        formDataa.append("id_product", id_product);        formDataa.append("product_review", product_review);        if (id_product > 0)            formDataa.append("_method", 'PUT');        var url = id_product > 0 ? 'chamber/chamber_products/' + id_product : 'chamber/chamber_products';        $.ajax({            url: url,            type: 'POST',            cache: false,            data: formDataa,            contentType: false,            processData: false,            headers: {                'X-CSRF-TOKEN': $("#csrf-token").attr('content')            },            beforeSend: function () {                ShowWaiting("ثبت محصول");            },            success: function (result) {                if (result.error != 'error') {                    $("#id_product").val(result.data);                }                ShowMessage(result.message, result.type);            },            complete: function () {                CloseWaiting();            },            error: function () {                CloseWaiting();                ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');            }        });    }});$("#btn_update_chamber_send_info").on("click", function (event) {    var chamber_send_area = $("#chamber_send_area").val();    var send_citys = $("#send_citys").val();    var chamber_send_pishtaz_to_1kg = $("#chamber_send_pishtaz_to_1kg").val();    var chamber_send_pishtaz_more_1kg = $("#chamber_send_pishtaz_more_1kg").val();    var chamber_send_sefareshi_to_1kg = $("#chamber_send_sefareshi_to_1kg").val();    var chamber_send_sefareshi_more_1kg = $("#chamber_send_sefareshi_more_1kg").val();    var chamber_send_motori_to_1kg = $("#chamber_send_motori_to_1kg").val();    var chamber_send_motori_more_1kg = $("#chamber_send_motori_more_1kg").val();    var send_pishtaz = 0;    if ($('#send_pishtaz').is(":checked"))        send_pishtaz = 1;    var send_sefareshi = 0;    if ($('#send_sefareshi').is(":checked"))        send_sefareshi = 1;    var send_motori = 0;    if ($('#send_motori').is(":checked"))        send_motori = 1;    var send_free_city = 0;    if ($('#send_free_city').is(":checked"))        send_free_city = 1;    var send_free_country = 0;    if ($('#send_free_country').is(":checked"))        send_free_country = 1;    let formDataa = new FormData();    formDataa.append('chamber_send_area', chamber_send_area);    formDataa.append('send_citys', send_citys);    formDataa.append('send_pishtaz', send_pishtaz);    formDataa.append('chamber_send_pishtaz_to_1kg', chamber_send_pishtaz_to_1kg);    formDataa.append('chamber_send_pishtaz_more_1kg', chamber_send_pishtaz_more_1kg);    formDataa.append('send_sefareshi', send_sefareshi);    formDataa.append('chamber_send_sefareshi_to_1kg', chamber_send_sefareshi_to_1kg);    formDataa.append('chamber_send_sefareshi_more_1kg', chamber_send_sefareshi_more_1kg);    formDataa.append('send_motori', send_motori);    formDataa.append('chamber_send_motori_to_1kg', chamber_send_motori_to_1kg);    formDataa.append('chamber_send_motori_more_1kg', chamber_send_motori_more_1kg);    formDataa.append('send_free_city', send_free_city);    formDataa.append('send_free_country', send_free_country);    $.ajax({        url: "chamber/updateChamberSendInfo",        type: 'POST',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("ثبت تغییرات مشخصات بانکی ");        },        success: function (result) {            if (!result.error) {            }            ShowMessage(result.message, result.type);        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });});$("#btn_update_chamber_social_info").on("click", function (event) {    var chamber_eita = $("#chamber_eita").val();    var chamber_soroush = $("#chamber_soroush").val();    var chamber_telegram = $("#chamber_telegram").val();    var chamber_instagram = $("#chamber_instagram").val();    let formDataa = new FormData();    formDataa.append('chamber_eita', chamber_eita);    formDataa.append('chamber_soroush', chamber_soroush);    formDataa.append('chamber_telegram', chamber_telegram);    formDataa.append('chamber_instagram', chamber_instagram);    $.ajax({        url: "chamber/updateChamberSocialInfo",        type: 'POST',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("ثبت تغییرات مشخصات بانکی ");        },        success: function (result) {            if (!result.error) {            }            ShowMessage(result.message, result.type);        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });});$("#btn_check_chamber_username").on("click", function (event) {    var chamber_username = $("#chamber_username").val();    let formDataa = new FormData();    formDataa.append('chamber_username', chamber_username);    $.ajax({        url: "chamber/checkChamberUsername",        type: 'POST',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("بررسی آدرس حجره");        },        success: function (result) {            if (!result.error) {            }            ShowMessage(result.message, result.type);        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });});$("#btn_add_product_property_key").on("click", function (event) {    var property_key = $("#property_key").val();    var category = $("#category").val();    var property_value = $("#property_value").val();    var id_product = $("#id_product").val();    var key_tooltip = $("#key_tooltip").val();    var show_in_product = 0;    if ($('#show_in_product').is(":checked"))        show_in_product = 1;    if (id_product == null)        ShowMessage("ابتدا محصول را ثبت نمائید", "error");    else {        let formDataa = new FormData();        formDataa.append("id_product", id_product);        formDataa.append("property_key", property_key);        formDataa.append("property_value", property_value);        formDataa.append("category", category);        formDataa.append("key_tooltip", key_tooltip);        formDataa.append("show_in_product", show_in_product);        $.ajax({            url: "chamber/chamber_products/" + id_product + "/chamber_product_property",            type: 'POST',            cache: false,            data: formDataa,            contentType: false,            processData: false,            headers: {                'X-CSRF-TOKEN': $("#csrf-token").attr('content')            },            beforeSend: function () {                ShowWaiting("ثبت تغییرات مشخصات بانکی ");            },            success: function (result) {                if (result.error != 'error') {                    var tr = "<tr id='property_" + result.data + "'>";                    tr = tr + "<td>" + category + "</td>";                    tr = tr + "<td>" + property_key + "</td>";                    tr = tr + "<td>" + property_value + "</td>";                    tr = tr + "<td>" + key_tooltip + "</td>";                    tr = tr + "<td><a class='btn btn-app' onclick='deleteProperty(" + result.data + ")'  title='حذف ویژگی'  style='height: auto;!important; padding: 5px;!important;'><i class='fa fa-trash'></i> حذف</a>";                    tr = tr + "<a class='btn btn-app' onclick='showProductProperty(" + result.data + ")'  title='ویرایش ویژگی'  style='height: auto;!important; padding: 5px;!important;'><i class='fa fa-pencil'></i> ویرایش</a></td>";                    tr = tr + "</tr>";                    $("#table_property").append(tr);                    $("#property_key").val("");                    $("#property_value").val("");                    $("#key_tooltip").val("");                    $("#property_key").focus();                }                ShowMessage(result.message, result.type);            },            complete: function () {                CloseWaiting();            },            error: function () {                CloseWaiting();                ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');            }        });    }});$("#btn_add_product_professional").on("click", function (event) {    var chamber_product_professional_value = CKEDITOR.instances['chamber_product_professional_value'].getData();    var chamber_product_professional_key = $("#chamber_product_professional_key").val();    var product_review_professional = $("#product_review_professional").val();    var id_product = $("#id_product").val();    if (id_product == null)        ShowMessage("ابتدا محصول را ثبت نمائید", "error");    else {        let formDataa = new FormData();        formDataa.append("id_product", id_product);        formDataa.append("chamber_product_professional_key", chamber_product_professional_key);        formDataa.append("chamber_product_professional_value", chamber_product_professional_value);        formDataa.append("product_review_professional", product_review_professional);        $.ajax({            url: "chamber/chamber_products/" + id_product + "/chamber_product_professional",            type: 'POST',            cache: false,            data: formDataa,            contentType: false,            processData: false,            headers: {                'X-CSRF-TOKEN': $("#csrf-token").attr('content')            },            beforeSend: function () {                ShowWaiting("ثبت قد و بررسی تخصصی ");            },            success: function (result) {                if (result.error == 'false') {                    var tr = "<tr id='professional_property_" + result.data + "'>";                    tr = tr + "<td>" + chamber_product_professional_key + "</td>";                    // tr = tr + "<td>" + chamber_product_professional_value + "</td>";                    tr = tr + "<td><a class='btn btn-app' onclick='deleteProfessionalProperty(" + result.data + ")'  title='حذف نقد و بررسی'  style='height: auto;!important; padding: 5px;!important;'><i class='fa fa-trash'></i> حذف</a>";                    tr = tr + "<a class='btn btn-app' onclick='showProfessionalProperty(" + result.data + ")'  title='ویرایش نقد و بررسی '  style='height: auto;!important; padding: 5px;!important;'><i class='fa fa-pencil'></i> ویرایش</a></td>";                    tr = tr + "</tr>";                    $("#table_property_professional").append(tr);                    CKEDITOR.instances['chamber_product_professional_value'].setData('');                    $("#chamber_product_professional_key").val('');                }                ShowMessage(result.message, result.type);            },            complete: function () {                CloseWaiting();            },            error: function () {                CloseWaiting();                ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');            }        });    }});function changeMegaCategory() {    var selectData = $("#id_mega_category").val();    let formData = new FormData();    formData.append('id_mega_category', selectData);    $.ajax({        url: "getMiddleCategory",        type: 'POST',        cache: false,        data: formData,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("کمی صبر کنید");        },        success: function (result) {            if (!result.error) {                $('#id_middle_category').html(result.data);            }            if ($("#id_middle_category_value").val() > 0) {                $("#id_middle_category").val($("#id_middle_category_value").val()).change();            }        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();        }    })}$(function () {    hiddenProfessionalButtons();    hiddenPropertyButtons();    changeMegaCategory();});function hiddenProfessionalButtons() {    $("#btn_update_product_professional").hide();    $("#btn_product_professional_cancel").hide();}$('#btn_product_professional_cancel').on('click', function (e) {    hiddenProfessionalButtons();    $("#chamber_product_professional_key").val('');    CKEDITOR.instances['chamber_product_professional_value'].setData('');    $("#btn_add_product_professional").show()});function hiddenPropertyButtons() {    $("#btn_product_property_cancel").hide();    $("#btn_update_product_property").hide();}$('#btn_product_property_cancel').on('click', function (e) {    hiddenPropertyButtons();    $("#category").val('');    $("#property_key").val('');    $("#property_value").val('');    $("#key_tooltip").val('');     $("#btn_add_product_property_key").show()});$('#id_middle_category').on('change', function (e) {    e.preventDefault();    changeMiddleCategory();});$('#id_mega_category').on('change', function (e) {    e.preventDefault();    changeMegaCategory();});function changeMiddleCategory() {    var selectData = $("#id_middle_category").val();    let formData = new FormData();    formData.append('id_middle_category', selectData);    $.ajax({        url: "getSubCategory",        type: 'POST',        cache: false,        data: formData,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("کمی صبر کنید");        },        success: function (result) {            if (!result.error) {                $('#id_sub_category').html(result.data);                if ($("#id_sub_category_value").val() > 0){//                    $('select>option:eq(3)').prop('selected', true);                    $("#id_sub_category").val($("#id_sub_category_value").val());                    changeMiddleCategory();                }            }        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();        }    });}$('#product_have_discount').on('change', function (e) {    if ($('#product_have_discount').is(":checked"))        $("#div_discount").show();    else        $("#div_discount").hide();}).change();$('#state').on('change', function (e) {    e.preventDefault();    var selectData = $(this).val();    let formData = new FormData();    formData.append('state', selectData);    $.ajax({        url: "getCity",        type: 'POST',        cache: false,        data: formData,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            // ShowWaiting("در حال ذخیره تغییرات");        },        success: function (result) {            if (!result.error) {                $('#city').html(result.data);            }        },        complete: function () {            // CloseWaiting();        },        error: function () {        }    });});function deleteProperty(id) {    Swal.fire({        title: 'حذف ویژگی محصول',        text: "آیا برای حذف ویژگی محصول مطمئن هستید؟",        icon: 'error',        showCancelButton: true,        confirmButtonColor: '#3085d6',        cancelButtonColor: '#d33',        confirmButtonText: "تایید",        cancelButtonText: 'انصراف',    }).then((result) => {        if (result.value) {            let formDataa = new FormData();            formDataa.append('id', id);            formDataa.append('id_product', $("#id_product").val());            formDataa.append('_method', 'DELETE');            $.ajax({                url: "chamber/chamber_products/" + $("#id_product").val() + "/chamber_product_property/" + id,                type: 'DELETE',                cache: false,                data: formDataa,                contentType: false,                processData: false,                headers: {                    'X-CSRF-TOKEN': $("#csrf-token").attr('content')                },                beforeSend: function () {                    ShowWaiting("حذف ویژگی محصول");                },                success: function (result) {                    if (result.error == 'false') {                        $("#property_" + id).remove();                    }                    ShowMessage(result.message, result.type);                },                complete: function () {                    CloseWaiting();                },                error: function () {                    CloseWaiting();                    ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');                }            });        }    })}function deleteProfessionalProperty(id) {    Swal.fire({        title: 'حذف نقد و بررسی محصول',        text: "آیا برای حذف نقد و بررسی محصول مطمئن هستید؟",        icon: 'error',        showCancelButton: true,        confirmButtonColor: '#3085d6',        cancelButtonColor: '#d33',        confirmButtonText: "تایید",        cancelButtonText: 'انصراف',    }).then((result) => {        if (result.value) {            let formDataa = new FormData();            formDataa.append('id', id);            formDataa.append('id_product', $("#id_product").val());            formDataa.append('_method', 'DELETE');            $.ajax({                url: "chamber/chamber_products/" + $("#id_product").val() + "/chamber_product_professional/" + id,                type: 'DELETE',                cache: false,                data: formDataa,                contentType: false,                processData: false,                headers: {                    'X-CSRF-TOKEN': $("#csrf-token").attr('content')                },                beforeSend: function () {                    ShowWaiting("حذف ویژگی محصول");                },                success: function (result) {                    if (result.error == 'false') {                        $("#professional_property_" + id).remove();                    }                    ShowMessage(result.message, result.type);                },                complete: function () {                    CloseWaiting();                },                error: function () {                    CloseWaiting();                    ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');                }            });        }    })}function showProfessionalProperty(id) {    let formDataa = new FormData();    $("#product_professional_val").val(id);    formDataa.append('id', id);    formDataa.append('id_product', $("#id_product").val());    $.ajax({        url: "chamber/chamber_products/" + $("#id_product").val() + "/chamber_product_professional/" + id,        type: 'GET',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("ویرایش ویژگی محصول");        },        success: function (result) {            $("#chamber_product_professional_key").val(result.data.chamber_product_professional_key);            CKEDITOR.instances['chamber_product_professional_value'].setData(result.data.chamber_product_professional_value);            $("#btn_update_product_professional").show();            $("#btn_product_professional_cancel").show();            $("#btn_add_product_professional").hide();        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });}function showProductProperty(id) {    let formDataa = new FormData();    $("#product_property_val").val(id);    formDataa.append('id', id);    formDataa.append('id_product', $("#id_product").val());    $.ajax({        url: "chamber/chamber_products/" + $("#id_product").val() + "/chamber_product_property/" + id,        type: 'GET',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("ویرایش ویژگی محصول");        },        success: function (result) {            $("#category").val(result.data.category);            $("#property_key").val(result.data.property_key);            $("#property_value").val(result.data.property_value);            $("#key_tooltip").val(result.data.key_tooltip);            $("#show_in_product").prop('checked',false)            if(result.data.show_in_product==1)                $("#show_in_product").prop('checked',true)            $("#btn_product_property_cancel").show();            $("#btn_update_product_property").show();            $("#btn_add_product_property_key").hide();        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });}$("#btn_update_product_professional").on("click", function (event) {    let formDataa = new FormData();    let id = $("#product_professional_val").val();    formDataa.append('id', id);    formDataa.append('id_product', $("#id_product").val());    formDataa.append('_method','PUT');    formDataa.append('chamber_product_professional_key', $("#chamber_product_professional_key").val());    var chamber_product_professional_value = CKEDITOR.instances['chamber_product_professional_value'].getData();    formDataa.append('chamber_product_professional_value',chamber_product_professional_value);    formDataa.append('product_review_professional', $("#product_review_professional").val());    $.ajax({        url: "chamber/chamber_products/" + $("#id_product").val() + "/chamber_product_professional/" + id,        type: 'POST',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("ویرایش نقد و بررسی محصول");        },        success: function (result) {            $("#btn_update_product_professional").hide();            $("#btn_product_professional_cancel").hide();            $("#btn_add_product_professional").show();            $("#product_professional_val").val(0);            ShowMessage(result.message,result.type);        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });});$("#btn_update_product_property").on("click", function (event) {    let formDataa = new FormData();    let id = $("#product_property_val").val();    formDataa.append('id', id);    formDataa.append('id_product', $("#id_product").val());    formDataa.append('_method','PUT');    formDataa.append('category', $("#category").val());    formDataa.append('property_key', $("#property_key").val());    formDataa.append('property_value', $("#property_value").val());    formDataa.append('key_tooltip', $("#key_tooltip").val());    var show_in_product = 0;    if ($('#show_in_product').is(":checked"))        show_in_product = 1;    formDataa.append('show_in_product', show_in_product);     $.ajax({        url: "chamber/chamber_products/" + $("#id_product").val() + "/chamber_product_property/" + id,        type: 'POST',        cache: false,        data: formDataa,        contentType: false,        processData: false,        headers: {            'X-CSRF-TOKEN': $("#csrf-token").attr('content')        },        beforeSend: function () {            ShowWaiting("ویرایش نقد و بررسی محصول");        },        success: function (result) {            $("#btn_product_property_cancel").hide();            $("#btn_update_product_property").hide();            $("#btn_add_product_property_key").show();            $("#product_property_val").val(0);            ShowMessage(result.message,result.type);        },        complete: function () {            CloseWaiting();        },        error: function () {            CloseWaiting();            ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');        }    });});function deleteProduct(id) {    Swal.fire({        title: 'حذف محصول',        text: "آیا برای حذف محصول مطمئن هستید؟",        icon: 'error',        showCancelButton: true,        confirmButtonColor: '#3085d6',        cancelButtonColor: '#d33',        confirmButtonText: "تایید",        cancelButtonText: 'انصراف',    }).then((result) => {        if (result.value) {            let formDataa = new FormData();            formDataa.append('id', id);            $.ajax({                url: "chamber/chamber_products/" + id,                type: 'DELETE',                cache: false,                data: formDataa,                contentType: false,                processData: false,                headers: {                    'X-CSRF-TOKEN': $("#csrf-token").attr('content')                },                beforeSend: function () {                    ShowWaiting("حذف محصول");                },                success: function (result) {                    if (!result.error) {                        table_products.DataTable().ajax.reload();                    }                    ShowMessage(result.message, result.type);                },                complete: function () {                    CloseWaiting();                },                error: function () {                    CloseWaiting();                    ShowMessage('خطای ناشتاخته', '« صفحه را تجدید (بازنشانی) کرده و مجددا تلاش نمایید. »', 'error');                }            });        }    })}